# Changelog

## 5.0.0 (unreleased)

* Update reader util functions to propagate errors, and mark unsafe (PR #318)
* Update dependencies (PR #319)
* Re-enable support for nightly (PR #320)

## 4.0.0 (3/8/2023)

* Rewrote the interface to support nested queries and generally improve ergonomics (PR #266)
* Removed support for serializing memory databases to bincode, in favor of msgpack (PR #267)
* Made copying `Identifier` cheap (PR #271)
* Made cloning JSON values cheap (PR #272)
* Fixed docker support (PR #275)
* Support for customizing the underlying rocksdb options (PR #276)
* More tests and benchmarks (PR #269, #284, #289)
* Allow tests and benchmarks to return errors (PR #285)
* Replaced `lazy_static` with `once_cell` (PR #287)

## 3.0.4 (12/27/2022)

* Add functions for serializing in-memory datastore results with properties, and deprecated broken variants (PR #260, #267)
* Upgrade dependencies (PR #262)

## 3.0.3 (8/16/2022)

* Upgrade dependencies (PR #248)

## 3.0.2 (6/17/2022)

* Upgrade rand_core to address poor random seeding (PR #242)
* Upgrade regex to prevent DoS attacks (PR #240, #241)
* Upgrade dependencies in general (PR #243)

## 3.0.1 (2/14/2022)

* Use tokio's `spawn_blocking` when calling into IndraDB (PR #235)
* Removed the need for a `build.rs` in plugins (PR #230)
* Added missing lock file (PR #226)

## 3.0.0 (1/4/2022)

* Support for plugins (PR #210)
* Rework the `Datastore` trait (PR #216, #218)
* Cleanup of errors (PR #193, #211, #217, #198)
* Support for property indexing (PR #193, #205)
* Renamed `Type` to `Identifier` (PR #202)
* Changed property names from strings to `Identifier` (PR #193)
* Removed sled datastore from core (PR #196)
* Fixed gRPC benchmarks (PR #204)
* Fixed errors not being propagated from failed bulk insert (PR #220)
* Hide identifier values so they can't be dangerously modified (PR #221)
* Switched to rust 2021 edition (PR #213)
* RocksDB: Removed dangerous bulk insert optimizations (PR #222)

## 2.2.0 (11/3/2021)

* Added a `--repair` flag (PR #182)
* Made utils public, for use in third-party datastores (PR #195)

## 2.1.0 (2/13/2021)

* A new client CLI, `indradb-client` (PR #157, #146, #163)
* Serialization support for in-memory datastore (PR #170)
* Tweaks to error types (PR #176, #174, #170)
* Use `OsString` for paths (PR #170)
* Docs cleanup (PR #175, #169)
* Make proto client cloneable (PR #149)
* Replaced `--port` with `--address` (PR #148)

## 2.0.0 (1/24/2021)

* Switched the frontend from cap'n proto to gRPC (PR #142)
* Various small touchups to lib interface (PR #142)
* Moved client and server implementations from bin to proto, so they can be reused elsewhere (PR #142)
* Made query limits optional (PR #139)
* Renamed the `indradb` CLI to `indradb-server`, in anticipation of a CLI client (PR #146)
* New CLI interface (PR #107)
* RocksDB: Removed explicit compaction on every bulk insert, greatly enhancing performance (PR #138)

## 1.3.0 (12/18/2020)

* In memory datastores now index reversed edge ranges (PR #110)
* Moved cap'n proto definition & autogenerated code to a separate crate (PR #103)

## 1.2.0 (11/26/2020)

* Added optional compression to the sled datastore (PR #100)
* Moved proto interface and autogenerated code into a separate crate (PR #103)

## 1.1.0 (7/13/2020)

* Sled datastore (PR #89, #91)
* Bin tests/benchmarks now use random, OS-allocated ports (PR #90)
* Added some convenience `Makefile` targets (PR #86)

## 1.0.3 (2/17/2020)

* Fixed bad cap'n proto ID (PR #77)

## 1.0.2 (12/29/2019)

* In-memory datastores are now clonable (PR #73)

## 1.0.1 (12/28/2019)

* Minor tweaks to the readme and release process

## 1.0.0 (12/14/2019)

The first stable release!
